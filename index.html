<!DOCTYPE html>
<html>
<head>
<title>Live Stream Player</title>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
<style>

body {
  font-family: sans-serif;
  display: flex;
  background: default;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  
}

#video-container {
  width: 80%;
  max-width: 800px;
  margin-bottom: 20px;
}

#live-video {
  width: 100%;
  aspect-ratio: 16 / 9;
  background-color: black;
}

#play-button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 5px;
  margin-bottom: 10px;
}

#telegram-button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  background-color: #0088cc;
  color: white;
  border: none;
  border-radius: 5px;
  margin-bottom: 10px;
}

#chat-container {
  width: 80%;
  max-width: 800px;
  border: 1px solid #ccc;
  padding: 10px;
  margin-top: 20px;
  display: flex;
  flex-direction: column;
}

#chat-messages {
  flex-grow: 1;
  overflow-y: auto;
  margin-bottom: 10px;
}

#chat-input-container {
  display: flex;
}

#chat-input {
  flex-grow: 1;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 5px;
  margin-right: 5px;
}

#chat-send {
  padding: 8px 15px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
</style>
</head>
<body>
<div class="w3-panel w3-border w3-blue w3-round-xlarge">
      <h1 style="color: White; font-weight: bold; face: Arial black; font-size: 20px;">WELCOME TO ANKMODS</h1>
  </div>
 <header class="w3-panel w3-container w3-border w3-round-xxlarge w3-teal">
  <h4>We appreciate you! Thank you for being a part of our online community.!</h4>
</header>
  <div id="video-container">
    <video id="live-video" controls poster="image.jpg">
      <p>Your browser does not support HTML5 video.</p>
    </video>
  </div>

  <button id="play-button">Play Live Stream</button>

  <a href="https://t.me/Ankmods0" target="_blank"><button id="telegram-button">Join Telegram</button></a>

  <div id="chat-container">
    <div id="chat-messages"></div>
    <div id="chat-input-container">
      <input type="text" id="chat-input" placeholder="Enter your message">
      <button id="chat-send">Send</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    const video = document.getElementById('live-video');
    const playButton = document.getElementById('play-button');
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');

    const liveStreamUrl = 'http://cdn1.bmstudiopk.com:1935/totalsports/live/chunklist_w987479680.m3u8';

    let username = prompt('Enter your username:');
    if (!username) {
      username = 'Anonymous';
    }

    playButton.addEventListener('click', () => {
      if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(liveStreamUrl);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, function () {
          video.play();
        });
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = liveStreamUrl;
        video.addEventListener('loadedmetadata', function () {
          video.play();
        });
      } else {
        video.src = liveStreamUrl;
        video.play();
      }
    });

    chatSend.addEventListener('click', () => {
      const message = chatInput.value;
      if (message) {
        appendMessage(username, message);
        chatInput.value = '';
        // Here you would add code to send the message to a server or other service.
      }
    });

    function appendMessage(user, message) {
      const messageElement = document.createElement('div');
      messageElement.innerHTML = `<strong>${user}:</strong> ${message}`;
      chatMessages.appendChild(messageElement);
      chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to bottom
    }

    chatInput.addEventListener('keypress', function (event) {
      if (event.key === 'Enter') {
        chatSend.click();
      }
    });
  </script>
</body>
</html>



